"use strict";function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}!function(e,t){var o,i="--dxpr-color-";t.behaviors.dxpr_themeSettingsColors={elColorPalette:document.querySelector("#color-palette"),elSchemeSelect:document.getElementById("edit-color-scheme"),colorSettings:null!==(o=drupalSettings.dxpr_themeSettings.colors)&&void 0!==o?o:[],attach:function(e){var t=this,o=this.elColorPalette,i=new ReinventedColorWheel({appendTo:document.getElementById("color-picker-placeholder"),hex:o.querySelector(".form-text").value,wheelDiameter:190,wheelReflectsSaturation:!1,onChange:function(e){var i=o.querySelector(".form-text.active");i&&t.updateColorField(i,e.hex)}});if(i.onChange(i),o){var r=o.querySelectorAll(".form-text"),a={init:function(e){"Backspace"!==e.key&&8!==e.keyCode&&(t.setActiveField(e.target),i.hex=e.target.value)}};r.forEach((function(e){e.addEventListener("focus",a.init),e.addEventListener("change",a.init),e.addEventListener("keyup",a.init)}))}this.elSchemeSelect.addEventListener("change",(function(e){var o=e.target.value;t.populateColorFields(o),t.setActiveField(null),"current"===o&&(o="custom"),e.target.value=o})),this.populateColorFields("current")},setActiveField:function(e){this.elColorPalette.querySelectorAll(".form-text").forEach((function(e){e.classList.remove("active")})),e&&e.classList.add("active")},populateColorFields:function(e){var t=this;if("custom"!==e&&this.colorSettings){var o="current"===e?this.colorSettings.palette:this.colorSettings.schemes[e].colors;o&&(Object.keys(o).forEach((function(e){var i=o[e],r=document.getElementById("edit-color-palette-".concat(e));t.updateColorField(r,i,!0)})),this.setDocumentPalette(o))}},updateColorField:function(e,t,o){if(e)if(e.classList.contains("error"))e.classList.remove("error");else if(e.value=t,e.style.background=t||"",e.style.color=t?this.getContrastColor(t):"",o)e.dataset.original=t;else{"custom"!==this.elSchemeSelect.value&&t!==e.dataset.original&&(this.elSchemeSelect.value="custom");var i=_defineProperty({},e.id.replace("edit-color-palette-",""),t);this.setDocumentPalette(i)}},setDocumentPalette:function(e){var t=document.documentElement;if(e&&Object.keys(e).forEach((function(o){t.style.setProperty(i+o,String(e[o]))})),null===e)for(var o=t.style.length-1;o>=0;o--){var r=t.style[o];r.startsWith(i)&&t.style.removeProperty(r)}},getContrastColor:function(e){return 4===e.length&&(e="#"+e.slice(1).split("").map((function(e){return""+e+e})).join("")),.299*parseInt(e.slice(1,3),16)+.587*parseInt(e.slice(3,5),16)+.114*parseInt(e.slice(5,7),16)>128?"#000":"#fff"}},t.behaviors.dxpr_themeSettingsControls={attach:function(o){e("#system-theme-settings h2 > small").addClass("form-header");var r="";function a(e){return e in drupalSettings.dxpr_themeSettings.colors.palette&&(e="var(".concat(i+e,")")),e}e("#system-theme-settings .form-type-radio .control-label").not(".dxpr_themeProcessed").each((function(){e(this).addClass("dxpr_themeProcessed"),r=e(this).find("input").remove(),e(this).wrapInner('<span class="dxpr-theme-label">').prepend(r)}));var l=e("#edit-header-top-bg-opacity-scroll, #edit-header-top-bg-opacity, #edit-header-side-bg-opacity, #edit-side-header-background-opacity,#edit-page-title-image-opacity,#edit-header-top-opacity,#edit-header-top-opacity-scroll,#edit-menu-full-screen-opacity"),c=1;l.each((function(){c=e(this).val(),e(this).bootstrapSlider({step:.01,min:0,max:1,tooltip:"show",value:parseFloat(c)})}));var n=e(".line-height-slider");c=1;n.each((function(){c=e(this).val(),e(this).bootstrapSlider({step:.1,min:0,max:3,tooltip:"show",formatter:function(e){return"".concat(e,"em")},value:parseFloat(c)})}));n=e(".border-size-slider"),c=1;n.each((function(){c=e(this).val(),e(this).bootstrapSlider({step:1,min:0,max:30,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(c)})}));n=e(".border-radius-slider"),c=1;n.each((function(){c=e(this).val(),e(this).bootstrapSlider({step:1,min:0,max:100,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(c)})})),(r=e("#edit-body-font-size")).bootstrapSlider({step:1,min:8,max:30,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-nav-font-size")).bootstrapSlider({step:1,min:8,max:30,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-body-mobile-font-size")).bootstrapSlider({step:1,min:8,max:30,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-nav-mobile-font-size")).bootstrapSlider({step:1,min:8,max:30,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())});var s=e(".font-size-slider");c=1;s.each((function(){c=e(this).val(),e(this).bootstrapSlider({step:1,min:8,max:100,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(c)})})),(r=e("#edit-scale-factor")).bootstrapSlider({step:.01,min:1,max:2,tooltip:"show",value:parseFloat(r.val())}),(r=e("#edit-divider-thickness")).bootstrapSlider({step:1,min:0,max:20,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-block-divider-thickness")).bootstrapSlider({step:1,min:0,max:20,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-divider-length")).bootstrapSlider({step:10,min:0,max:500,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-block-divider-length")).bootstrapSlider({step:10,min:0,max:500,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-divider-position")).bootstrapSlider({step:1,min:1,max:3,selection:"none",tooltip:"show",formatter:function(e){var o=t.t("Left");return 2==e&&(o=t.t("Center")),3==e&&(o=t.t("Right")),o},value:parseFloat(r.val())}),(r=e("#edit-headings-letter-spacing")).bootstrapSlider({step:.01,min:-.1,max:.3,tooltip:"show",formatter:function(e){return"".concat(e,"em")},value:parseFloat(r.val())}),(r=e("#edit-block-divider-spacing")).bootstrapSlider({step:1,min:0,max:100,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-page-title-height")).bootstrapSlider({step:5,min:50,max:500,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-header-top-height")).bootstrapSlider({step:1,min:10,max:200,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-header-mobile-breakpoint")).bootstrapSlider({step:10,min:480,max:4100,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-header-mobile-height")).bootstrapSlider({step:1,min:10,max:200,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-header-top-height-scroll")).bootstrapSlider({step:1,min:10,max:200,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-header-top-height-sticky-offset")).bootstrapSlider({step:10,min:0,max:2096,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-header-side-width")).bootstrapSlider({step:5,min:50,max:500,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-dropdown-width")).bootstrapSlider({step:5,min:100,max:400,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-menu-border-size")).bootstrapSlider({step:1,min:1,max:20,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-menu-border-position-offset")).bootstrapSlider({step:1,min:0,max:100,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-menu-border-position-offset-sticky")).bootstrapSlider({step:1,min:0,max:100,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-layout-max-width")).bootstrapSlider({step:10,min:480,max:4100,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-box-max-width")).bootstrapSlider({step:10,min:480,max:4100,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-gutter-horizontal")).bootstrapSlider({step:1,min:0,max:100,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-gutter-vertical")).bootstrapSlider({step:1,min:0,max:100,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-gutter-container")).bootstrapSlider({step:1,min:0,max:500,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-gutter-horizontal-mobile")).bootstrapSlider({step:1,min:0,max:100,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-gutter-vertical-mobile")).bootstrapSlider({step:1,min:0,max:100,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),(r=e("#edit-gutter-container-mobile")).bootstrapSlider({step:1,min:0,max:500,tooltip:"show",formatter:function(e){return"".concat(e,"px")},value:parseFloat(r.val())}),e(".vertical-tab-button a").click((function(){e(".slider + input").bootstrapSlider("relayout")})),e('input[type="radio"]').change((function(){e(".slider + input").bootstrapSlider("relayout")}));var d=14,p=1.25;e("#edit-scale-factor").change((function(){d=e("#edit-body-font-size").val(),p=e(this).bootstrapSlider("getValue"),e("#edit-h1-font-size, #edit-h1-mobile-font-size").bootstrapSlider("setValue",d*Math.pow(p,4)).change(),e("#edit-h2-font-size, #edit-h2-mobile-font-size").bootstrapSlider("setValue",d*Math.pow(p,3)).change(),e("#edit-h3-font-size, #edit-h3-mobile-font-size").bootstrapSlider("setValue",d*Math.pow(p,2)).change(),e("#edit-h4-font-size, #edit-h4-mobile-font-size, #edit-blockquote-font-size, #edit-blockquote-mobile-font-size").bootstrapSlider("setValue",d*p).change()}));var h="";e("#edit-block-preset").bind("keyup change",(function(){switch(e("#edit-block-advanced .slider + .form-text").bootstrapSlider("setValue",0),e("#edit-block-divider-thickness").bootstrapSlider("setValue",parseInt(e("#edit-divider-thickness").val())),e("#edit-block-divider-length").bootstrapSlider("setValue",parseInt(e("#edit-divider-length").val())),e("#edit-block-divider-spacing").bootstrapSlider("setValue",10),e("#edit-block-background-custom, #edit-title-background-custom, #edit-block-divider-color-custom").val(""),e("#edit-block-advanced select").val(""),e("#edit-title-align-left").prop("checked",!0),e("#edit-title-font-size-h2").prop("checked",!0),h=e(this).val()){case"block_boxed":e("#edit-block-padding").bootstrapSlider("setValue",15),e("#edit-block-border").bootstrapSlider("setValue",5),e("#edit-block-border-color").val("text");break;case"block_outline":e("#edit-block-padding").bootstrapSlider("setValue",15),e("#edit-block-border").bootstrapSlider("setValue",1),e("#edit-block-border-color").val("text");break;case"block_card":e("#edit-block-card").val("card card-body"),e("#edit-title-font-size-h3").prop("checked",!0);break;case"title_inverted":e("#edit-title-background").val("text"),e("#edit-title-card").val("card card-body dxpr-theme-util-background-gray"),e("#edit-title-padding").bootstrapSlider("setValue",10),e("#edit-title-font-size-h3").prop("checked",!0);break;case"title_inverted_shape":e("#edit-title-background").val("text"),e("#edit-title-card").val("card card-body dxpr-theme-util-background-gray"),e("#edit-title-padding").bootstrapSlider("setValue",10),e("#edit-title-border-radius").bootstrapSlider("setValue",100),e("#edit-title-font-size-h4").prop("checked",!0),e("#edit-title-align-center").prop("checked",!0);break;case"title_sticker":e("#edit-title-card").val("card card-body dxpr-theme-util-background-gray"),e("#edit-title-padding").bootstrapSlider("setValue",10),e("#edit-title-font-size-body").prop("checked",!0);break;case"title_sticker_color":e("#edit-title-font-size-body").prop("checked",!0),e("#edit-title-padding").bootstrapSlider("setValue",10),e("#edit-title-card").val("card card-body bg-primary");break;case"title_outline":e("#edit-title-padding").bootstrapSlider("setValue",15),e("#edit-title-border").bootstrapSlider("setValue",1),e("#edit-title-border-color").val("text"),e("#edit-title-font-size-h4").prop("checked",!0);break;case"hairline_divider":e("#edit-block-divider-thickness").bootstrapSlider("setValue",1)}e("#edit-block-advanced input, #edit-block-advanced select").trigger("change"),0==e("#edit-block-padding").val()&&e("#edit-block .block").css("padding",""),0==e("#edit-title-padding").val()&&e("#edit-block .block-title").css("padding",""),e(this).val(h)})),e("#edit-body-line-height").change((function(){e(".type-preview, .type-preview p").css("line-height",e(this).bootstrapSlider("getValue"))})),e("#edit-headings-line-height").change((function(){e(".type-preview h1, .type-preview h2, .type-preview h3, .type-preview h4").css("line-height",e(this).bootstrapSlider("getValue"))})),e("#edit-divider-thickness").change((function(){e(".type-preview hr").css("height",e(this).bootstrapSlider("getValue"))}));var u="";e("#edit-divider-length").change((function(){0==(u=e(this).bootstrapSlider("getValue"))?e(".type-preview hr").css("width","100%"):e(".type-preview hr").css("width",u)}));var b=!1;e("#edit-divider-position").change((function(){var t=e(this).bootstrapSlider("getValue");b=e(".type-preview hr"),1==t&&b.css({"margin-left":"0","margin-right":"auto"}),2==t&&b.css({"margin-left":"auto","margin-right":"auto"}),3==t&&b.css({"margin-left":"auto","margin-right":"0"})})),e("#edit-divider-color").change((function(){e(".type-preview hr").css("background-color",a(e(this).val()))})),e("#edit-divider-color-custom").bind("keyup change",(function(){e(".type-preview hr").css("background-color",e(this).val())})),e("#edit-blockquote-line-height").change((function(){e(".type-preview blockquote, .type-preview blockquote p").css("line-height",e(this).bootstrapSlider("getValue"))})),e("#edit-body-font-size").change((function(){e(".type-preview, .type-preview p").css("font-size","".concat(e(this).bootstrapSlider("getValue"),"px")),e(".lead").css("font-size","21px"),e("#edit-scale-factor").change()})),e("#edit-nav-font-size").change((function(){e(".dxpr-theme-header--top #dxpr-theme-main-menu .nav > li > a, .dxpr-theme-header--side #dxpr-theme-main-menu .nav a").css("font-size","".concat(e(this).bootstrapSlider("getValue"),"px"))})),e("#edit-h1-font-size").change((function(){e(".type-preview h1").css("font-size","".concat(e(this).bootstrapSlider("getValue"),"px"))})),e("#edit-h2-font-size").change((function(){e(".type-preview h2").css("font-size","".concat(e(this).bootstrapSlider("getValue"),"px"))})),e("#edit-h3-font-size").change((function(){e(".type-preview h3").css("font-size","".concat(e(this).bootstrapSlider("getValue"),"px"))})),e("#edit-h4-font-size").change((function(){e(".type-preview h4").css("font-size","".concat(e(this).bootstrapSlider("getValue"),"px"))})),e("#edit-blockquote-font-size").change((function(){e(".type-preview blockquote, .type-preview blockquote p").css("font-size","".concat(e(this).bootstrapSlider("getValue"),"px"))})),e("#edit-headings-letter-spacing").change((function(){e(".type-preview h1, .type-preview h2, .type-preview h3, .type-preview h4").css("letter-spacing","".concat(e(this).bootstrapSlider("getValue"),"em"))})),e("#edit-headings-uppercase").click((function(){1==e(this).prop("checked")?e(".type-preview h1, .type-preview h2, .type-preview h3, .type-preview h4").css("text-transform","uppercase"):e(".type-preview h1, .type-preview h2, .type-preview h3, .type-preview h4").css("text-transform","none")}));var v="";e("#edit-block-advanced").bind("keyup change",(function(){e("#edit-block-preset").val("custom")})),e("#edit-block-card").change((function(){e(".block-preview .block").removeClass("card card-body bg-primary dxpr-theme-util-background-accent1 dxpr-theme-util-background-accent2 dxpr-theme-util-background-black dxpr-theme-util-background-white dxpr-theme-util-background-gray"),e(".block-preview .block").addClass(e(this).val())})),e("#edit-block-background").change((function(){e(".block-preview .block").css("background-color",a(e(this).val()))})),e("#edit-block-background-custom").change((function(){e(".block-preview .block").css("background-color",e(this).val())})),e("#edit-block-padding").bind("keyup change",(function(){e(".block-preview .block").css("padding","".concat(e(this).bootstrapSlider("getValue"),"px"))})),e("#edit-block-border").change((function(){e(".block-preview .block").css("border-width","".concat(e(this).bootstrapSlider("getValue"),"px")),e(this).bootstrapSlider("getValue")>0&&e(".block-preview .block").css("border-style","solid")})),e("#edit-block-border-color").change((function(){e(".block-preview .block").css("border-color",a(e(this).val()))})),e("#edit-block-border-color-custom").bind("keyup change",(function(){e(".block-preview .block").css("border-color",e(this).val())})),e("#edit-block-border-radius").change((function(){e(".block-preview .block").css("border-radius","".concat(e(this).bootstrapSlider("getValue"),"px"))})),e("#edit-title-card").change((function(){e(".block-preview .block-title").removeClass("card card-body bg-primary dxpr-theme-util-background-accent1 dxpr-theme-util-background-accent2 dxpr-theme-util-background-black dxpr-theme-util-background-white dxpr-theme-util-background-gray"),e(".block-preview .block-title").addClass(e(this).val())})),e("#edit-title-font-size").change((function(){v=e(this).find(":checked").val(),v="#edit-".concat(v,"-font-size"),v=e(v).val(),e(".block-preview .block-title").css("font-size","".concat(v,"px"))})),e("#edit-title-align").change((function(){e(".block-preview .block-title").css("text-align",e(this).find(":checked").val())})),e("#edit-title-background").change((function(){e(".block-preview .block-title").css("background-color",a(e(this).val()))})),e("#edit-title-background-custom").bind("keyup change",(function(){e(".block-preview .block-title").css("background-color",e(this).val())})),e("#edit-title-sticker").click((function(){1==e(this).prop("checked")?e(".block-preview .block-title").css("display","inline-block"):e(".block-preview .block-title").css("display","block")})),e("#edit-title-padding").change((function(){e(".block-preview .block-title").css("padding","".concat(e(this).bootstrapSlider("getValue"),"px"))})),e("#edit-title-border").change((function(){e(".block-preview .block-title").css("border-width","".concat(e(this).bootstrapSlider("getValue"),"px")),e(this).bootstrapSlider("getValue")>0&&e(".block-preview .block-title").css("border-style","solid")})),e("#edit-title-border-radius").change((function(){e(".block-preview .block-title").css("border-radius","".concat(e(this).bootstrapSlider("getValue"),"px"))})),e("#edit-title-border-color").change((function(){e(".block-preview .block-title").css("border-color",a(e(this).val()))})),e("#edit-title-border-color-custom").bind("keyup change",(function(){e(".block-preview .block-title").css("border-color",e(this).val())})),0==e("#edit-block-divider:checked").length&&e(".block-preview hr").hide(),e("#edit-block-divider").click((function(){1==e(this).prop("checked")?e(".block-preview hr").show():e(".block-preview hr").hide()})),e("#edit-block-divider-color").change((function(){e(".block-preview hr").css("background-color",a(e(this).val()))})),e("#edit-block-divider-color-custom").bind("keyup change",(function(){e(".block-preview hr").css("background-color",e(this).val())})),e("#edit-block-divider-thickness").change((function(){e(".block-preview hr").css("height","".concat(e(this).bootstrapSlider("getValue"),"px"))})),e("#edit-block-divider-length").change((function(){e(this).bootstrapSlider("getValue")>0?e(".block-preview hr").css("width","".concat(e(this).bootstrapSlider("getValue"),"px")):e(".block-preview hr").css("width","100%")})),e("#edit-block-divider-spacing").change((function(){e(".block-preview hr").css("margin-top","".concat(e(this).bootstrapSlider("getValue"),"px")),e(".block-preview hr").css("margin-bottom","".concat(e(this).bootstrapSlider("getValue"),"px"))})),e(".js-form-type-textfield").each((function(){var t=e(this).find(".slider-horizontal,.form-text").not(".dxpr_themeProcessed");if(t.length>=2)for(var o=0;o<t.length;o+=2)t.slice(o,o+2).wrapAll("<div class='slider-input-wrapper'></div>").addClass("dxpr_themeProcessed")}))}}}(jQuery,Drupal);