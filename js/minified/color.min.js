/*! glazed 09-04-2020 */

!function(h){Drupal.behaviors.color={attach:function(e,i){var t,o,n,s=h("#system-theme-settings .color-form",e).once("color");if(0!=s.length){var l=[],a=null;h(s).prepend('<div id="placeholder"></div>').addClass("color-processed");var c=h.farbtastic("#placeholder"),r=i.color.reference;for(t in r)r[t]=c.RGBToHSL(c.unpack(r[t]));h("#edit-scheme",s).change(function(){var e=i.color.schemes,t=this.options[this.selectedIndex].value;if(""!=t&&e[t])for(n in o=e[t])u(h("#edit-palette-"+n),o[n],!1,!0)}),h("#palette input.form-text",s).each(function(){this.key=this.id.substring(13),c.linkTo(function(){}).setColor("#000").linkTo(this),this.i=t,l.push(this)}).focus(p),h("#palette label",s),p.call(l[0])}function u(e,t,i,o){h(e).css({backgroundColor:t,color:.5<c.RGBToHSL(c.unpack(t))[2]?"#000":"#fff"}),h(e).val()&&h(e).val()!=t&&(h(e).val(t),o||d())}function d(){h("#edit-scheme",s).each(function(){this.selectedIndex=this.options.length-1})}function p(){var t=this;a&&h(a).unbind("keyup",c.updateValue).unbind("keyup",preview).unbind("keyup",d).parent().removeClass("item-selected"),a=this,c.linkTo(function(e){u(t,e,0,!1)}),c.setColor(this.value),h(a).keyup(c.updateValue).keyup(preview).keyup(d).parent().addClass("item-selected")}}}}(jQuery);