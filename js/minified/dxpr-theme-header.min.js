"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}!function(e,t,r){var n="";if("function"!=typeof _){window._={};var a=function(e,t){return t=null==t?e.length-1:+t,function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var o,d=Math.max(n.length-t,0),l=Array(d);for(o=0;o<d;o++)l[o]=n[o+t];switch(t){case 0:return e.call(this,l);case 1:return e.call(this,n[0],l);case 2:return e.call(this,n[0],n[1],l)}var i=Array(t+1);for(o=0;o<t;o++)i[o]=n[o];return i[t]=l,e.apply(this,i)}};_.delay=a((function(e,t,r){return setTimeout((function(){return e.apply(void 0,_toConsumableArray(r))}),t)})),window._.debounce=function(e,t,r){var n,o,d=function(t,r){n=null,r&&(o=e.apply(t,r))},l=a((function(a){var l=r&&!n;return n&&clearTimeout(n),l?(n=setTimeout(d,t),o=e.apply(this,a)):r||(n=_.delay(d,t,this,a)),o}));return l.cancel=function(){clearTimeout(n),n=null},l},window._.throttle=function(e,t,r){var n,a,o,d=null,l=0;r||(r={});var i=function(){l=!1===r.leading?0:_.now(),d=null,o=e.apply(n,a),d||(n=null,a=null)};return function(){var m=_.now();l||!1!==r.leading||(l=m);var u=t-(m-l);n=this;for(var s=arguments.length,c=new Array(s),h=0;h<s;h++)c[h]=arguments[h];return a=c,u<=0||u>t?(d&&(clearTimeout(d),d=null),l=m,o=e.apply(n,a),d||(n=null,a=null)):d||!1===r.trailing||(d=setTimeout(i,u)),o}}}var o="dxpr_themeNavBreakpoint"in window?window.dxpr_themeNavBreakpoint:1200;if(e(".dxpr-theme-header--sticky").length>0&&!e(".dxpr-theme-header--overlay").length&&e(window).width()>o){var d=parseFloat(drupalSettings.dxpr_themeSettings.headerHeight),l=parseFloat(drupalSettings.dxpr_themeSettings.headerOffset);if(d&&l){var i=document.querySelector(".dxpr-theme-header--sticky"),m=document.getElementsByClassName("wrap-containers")[0];_.throttle(e(window).scroll((function(){e(window).scrollTop()>=l?(i.classList.add("affix"),i.classList.remove("affix-top"),m.style.marginTop="".concat(d,"px")):(i.classList.add("affix-top"),i.classList.remove("affix"),m.style.marginTop=0)})),100)}}function u(e,t){return!(e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function s(t){var a=1200;if("dxpr_themeNavBreakpoint"in window&&(a=window.dxpr_themeNavBreakpoint),0===e(".body--dxpr-theme-header-side").length&&e(window).width()>a){if("top"===n)return!1;var d=document.querySelector(".html--dxpr-theme-nav-mobile--open");d&&d.classList.remove("html--dxpr-theme-nav-mobile--open");var l=document.querySelector(".dxpr-theme-header--side");l&&(l.classList.add("dxpr-theme-header--top"),l.classList.remove("dxpr-theme-header--side")),e("#dxpr-theme-main-menu .menu__breadcrumbs").remove();var i=document.querySelector(".menu__level");i&&(i.classList.remove("menu__level"),document.getElementsByClassName("menu__level").style.top="100%",document.getElementsByClassName("menu__level").style.marginTop=0,document.getElementsByClassName("menu__level").style.height="auto");var m=document.querySelector(".menu__item");m&&m.classList.remove("menu__item"),e("[data-submenu]").removeAttr("data-submenu"),e("[data-menu]").removeAttr("data-menu");var s,c=e("body").innerWidth();if(document.querySelectorAll("#dxpr-theme-main-menu .menu .dropdown-menu").forEach((function(e){var t=this,r=e.offsetWidth;if((s=document.querySelectorAll(".dxpr-theme-megamenu__heading").length>0?document.querySelectorAll(".dxpr-theme-megamenu__heading").length:Math.floor(document.querySelectorAll("li").length/8)+1)>2)e.style.width="100%",e.style.left="0",e.parentElement.style.position="static",Array.from(e.querySelectorAll(".dropdown-menu > li")).forEach((function(e){e.style.width="".concat(100/s,"%")}));else{s>1&&(e.style.minWidth="".concat(r*s+2,"px"),Array.from(e.querySelectorAll("> li")).forEach((function(e){e.style.width="".concat(r,"px")})));var n=this.parent();setTimeout((function(){var r=Math.round(c-n.offset().left-t.outerWidth()-10);r<0&&(e.style.left="".concat(r,"px"))}),0)}})),n="top",e(".tabs--primary").length>0&&e("#navbar").length>0){var h=e(".tabs--primary")[0].getBoundingClientRect();if(e(".dxpr-theme-header--navbar-pull-down").length>0&&e("#navbar .container-col").length>0){var p=e("#navbar .container-col")[0].getBoundingClientRect();u(p,h)&&(document.querySelector(".tabs--primary").style.marginTop=p.bottom-h.top+6)}else{var y=e("#navbar")[0].getBoundingClientRect();u(y,h)&&(document.querySelector(".tabs--primary").style.marginTop=y.bottom-h.top+6)}}if(e("#secondary-header").length>0&&e("#navbar.dxpr-theme-header--overlay").length>0){var g=e("#secondary-header")[0].getBoundingClientRect();u(e("#navbar.dxpr-theme-header--overlay")[0].getBoundingClientRect(),g)&&(drupalSettings.dxpr_themeSettings.secondHeaderSticky?(document.querySelector("#navbar.dxpr-theme-header--overlay").style.cssText="top:".concat(g.bottom,"px !important;"),document.querySelector("#secondary-header").classList.remove("dxpr-theme-secondary-header--sticky")):(e("#toolbar-bar").length>0?document.getElementsByClassName("dxpr-theme-header--overlay").style.top=g.bottom:document.getElementsByClassName("dxpr-theme-header--overlay").style.top="",document.querySelector("#secondary-header").classList.remove("dxpr-theme-secondary-header--sticky")))}}else{if("side"===n)return!1;document.getElementById("dxpr-theme-main-menu").style.display="none",document.querySelector(".dxpr-theme-header--top").classList.add("dxpr-theme-header--side"),document.querySelector(".dxpr-theme-header--top").classList.remove("dxpr-theme-header--top"),e("#dxpr-theme-main-menu .menu .dropdown-menu, #dxpr-theme-main-menu .menu .dropdown-menu li").removeAttr("style");var v=document.getElementById("dxpr-theme-main-menu");if(v)v.querySelectorAll(".menu").forEach((function(e){e.classList.add("menu__level"),e.querySelectorAll(".dropdown-menu").forEach((function(e){e.classList.add("menu__level")})),e.querySelectorAll(".dxpr-theme-megamenu").forEach((function(e){e.classList.add("menu__level")})),e.querySelectorAll("a").forEach((function(e){e.classList.add("menu__link")})),e.querySelectorAll("li").forEach((function(e){e.classList.add("menu__item")}))}));Array.from(e("#dxpr-theme-main-menu .menu a.dropdown-toggle")).forEach((function(e){var t=e.nextElementSibling;e.setAttribute("data-submenu",e.textContent),t.setAttribute("data-menu",e.textContent)})),Array.from(e("#dxpr-theme-main-menu .menu a.dxpr-theme-megamenu__heading")).forEach((function(e){var t=e.nextElementSibling;e.setAttribute("data-submenu",e.textContent),t.setAttribute("data-menu",e.textContent)}));var f,x=e("#dxpr-theme-main-menu .menu .dropdown-menu").length>0,b=document.getElementById("dxpr-theme-main-menu"),_=(new MLMenu(b,{breadcrumbsCtrl:x,initialBreadcrumb:"menu",backCtrl:!1,itemsDelayInterval:10}),function(){"cross"===drupalSettings.dxpr_themeSettings.hamburgerAnimation&&document.querySelector("#dxpr-theme-menu-toggle").classList.toggle("navbar-toggle--active"),document.querySelector("#dxpr-theme-main-menu").classList.toggle("menu--open"),document.querySelector("html").classList.toggle("html--dxpr-theme-nav-mobile--open")});e(r("dxpr_themeMenuToggle","#dxpr-theme-menu-toggle")).click((function(){_()})),document.getElementById("dxpr-theme-main-menu").style.position="fixed",document.getElementById("dxpr-theme-main-menu").style.display="block",e(".menu__link").click((function(){this.getAttribute("data-submenu")||_()})),f=e(".wrap-branding").length>0?e(".wrap-branding")[0].getBoundingClientRect().bottom:0;var w=e("#dxpr-theme-main-menu .block:not(.block-menu)").last();e(".body--dxpr-theme-header-side").length>0&&e(window).width()>o&&w.length>0&&f>0&&(document.getElementById("dxpr-theme-main-menu").style.paddingTop=f+40);var S=document.querySelector(".menu__breadcrumbs"),A=document.querySelector(".menu__level"),L=document.querySelector(".dxpr-theme-header--side .menu__level");if(w.length>0){var q=w[0].getBoundingClientRect().bottom;S&&(S.style.top=q+20),A&&(A.style.top=q+40);var B=40+q;L&&(L.style.height="calc(100vh - ".concat(B,"px)"))}else if(e(".body--dxpr-theme-header-side").length>0&&e(".wrap-branding").length>0&&f>120){S&&(S.style.top=f+20),A&&(A.style.top=f+40);var k=40+f;L&&(L.style.height="calc(100vh - ".concat(k,"px)"))}n="side"}}var c=drupalSettings.dxpr_themeSettings.headerMobileHeight.headerMobileHeight,h=drupalSettings.dxpr_themeSettings.headerMobileFixed,p="dxpr_themeNavBreakpoint"in window?window.dxpr_themeNavBreakpoint:1200;if(h&&e(".dxpr-theme-header").length>0&&e(window).width()<=p){var y=document.querySelector("#navbar");e("#toolbar-bar").length>0&&y.classList.add("header-mobile-admin-fixed"),e(window).width()>=975?y.classList.add("header-mobile-admin-fixed-active"):y.classList.remove("header-mobile-admin-fixed-active"),document.getElementsByClassName("dxpr-theme-boxed-container").style.overflow="hidden",document.querySelector("#toolbar-bar").classList.add("header-mobile-fixed"),y.classList.add("header-mobile-fixed"),document.getElementById("secondary-header").style.marginTop=c}function g(){var t=1200;if("dxpr_themeNavBreakpoint"in window&&(t=window.dxpr_themeNavBreakpoint),e(window).width()>t){var r=document.querySelector(".body--dxpr-theme-nav-mobile");r&&(r.classList.add("body--dxpr-theme-nav-desktop"),r.classList.remove("body--dxpr-theme-nav-mobile"))}else{var n=document.querySelector(".body--dxpr-theme-nav-desktop");n&&(n.classList.add("body--dxpr-theme-nav-mobile"),n.classList.remove("body--dxpr-theme-nav-desktop"))}}function v(){"right"===drupalSettings.dxpr_themeSettings.headerSideDirection&&e(window).width()<=window.dxpr_themeNavBreakpoint?document.querySelector(".dxpr-theme-main-menu").classList.add("dxpr-theme-main-menu--to-left"):document.querySelector(".dxpr-theme-main-menu").classList.remove("dxpr-theme-main-menu--to-left"),e(window).width()>window.dxpr_themeNavBreakpoint&&0===e(".dxpr-theme-header--side").length&&(document.getElementById("dxpr-theme-main-menu").style.position="relative")}e(window).resize(_.debounce((function(){e("#dxpr-theme-main-menu .nav").length>0&&(g(),s(document)),v()}),50)),v(),document.addEventListener("DOMContentLoaded",(function(){document.querySelector("#dxpr-theme-main-menu .nav")&&(g(),s(document))}))}(jQuery,Drupal,once);