"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}!function(){var e="";if("function"!=typeof _){window._={};var t=function(e,t){return t=null==t?e.length-1:+t,function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];var a,l=Math.max(n.length-t,0),d=Array(l);for(a=0;a<l;a++)d[a]=n[a+t];switch(t){case 0:return e.call(this,d);case 1:return e.call(this,n[0],d);case 2:return e.call(this,n[0],n[1],d)}var i=Array(t+1);for(a=0;a<t;a++)i[a]=n[a];return i[t]=d,e.apply(this,i)}};_.delay=t((function(e,t,r){return setTimeout((function(){return e.apply(void 0,_toConsumableArray(r))}),t)})),window._.debounce=function(e,r,n){var o,a,l=function(t,r){o=null,r&&(a=e.apply(t,r))},d=t((function(t){var d=n&&!o;return o&&clearTimeout(o),d?(o=setTimeout(l,r),a=e.apply(this,t)):n||(o=_.delay(l,r,this,t)),a}));return d.cancel=function(){clearTimeout(o),o=null},d},window._.throttle=function(e,t,r){var n,o,a,l=null,d=0;r||(r={});var i=function(){d=!1===r.leading?0:Date.now(),l=null,a=e.apply(n,o),l||(n=null,o=null)};return function(){var u=Date.now();d||!1!==r.leading||(d=u);var c=t-(u-d);n=this;for(var m=arguments.length,s=new Array(m),h=0;h<m;h++)s[h]=arguments[h];return o=s,c<=0||c>t?(l&&(clearTimeout(l),l=null),d=u,a=e.apply(n,o),l||(n=null,o=null)):l||!1===r.trailing||(l=setTimeout(i,c)),a}}}var r="dxpr_themeNavBreakpoint"in window?window.dxpr_themeNavBreakpoint:1200;if(document.querySelectorAll(".dxpr-theme-header--sticky").length>0&&!document.querySelectorAll(".dxpr-theme-header--overlay").length&&window.innerWidth>r){var n=parseFloat(drupalSettings.dxpr_themeSettings.headerHeight),o=parseFloat(drupalSettings.dxpr_themeSettings.headerOffset);if(n&&o){var a=document.querySelector(".dxpr-theme-header--sticky"),l=document.getElementsByClassName("wrap-containers")[0],d=_.throttle((function(){window.scrollY>=o?(a.classList.add("affix"),a.classList.remove("affix-top"),l.style.marginTop="".concat(n,"px")):(a.classList.add("affix-top"),a.classList.remove("affix"),l.style.marginTop="0")}),100);window.addEventListener("scroll",d)}}function i(e,t){return!(e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function u(t){var r=1200;if("dxpr_themeNavBreakpoint"in window&&(r=window.dxpr_themeNavBreakpoint),0===document.querySelectorAll(".body--dxpr-theme-header-side").length&&window.innerWidth>r){if("top"===e)return!1;var n=document.querySelector(".html--dxpr-theme-nav-mobile--open");n&&n.classList.remove("html--dxpr-theme-nav-mobile--open");var o=document.querySelector(".dxpr-theme-header--side");o&&(o.classList.add("dxpr-theme-header--top"),o.classList.remove("dxpr-theme-header--side"));var a=document.querySelector("#dxpr-theme-main-menu .menu__breadcrumbs");a&&a.remove();var l=document.querySelector(".menu__level");l&&(l.classList.remove("menu__level"),l.style.top="100%",l.style.marginTop=0,l.style.height="auto");var d=document.querySelector(".menu__item");if(d&&d.classList.remove("menu__item"),document.querySelectorAll("[data-submenu]").forEach((function(e){return e.removeAttribute("data-submenu")})),document.querySelectorAll("[data-menu]").forEach((function(e){return e.removeAttribute("data-menu")})),document.querySelectorAll(".dropdown-toggle").forEach((function(e){e.addEventListener("mouseover",(function(){var t=e.nextElementSibling;if(t&&t.classList.contains("dropdown-menu")){if("true"===t.dataset.widthSet)return;t.offsetWidth;var r=t.querySelectorAll(".dxpr-theme-megamenu__heading"),n=r.length>0?r.length:Math.floor(t.querySelectorAll("li").length/8)+1;if(n>2)t.style.width="100%",setTimeout((function(){t.style.left="0"}),0),t.style.setProperty("display","flex"),t.parentElement.style.position="static",t.querySelectorAll(":scope > li").forEach((function(e){e.style.minWidth="".concat(100/n,"%")}));else{t.dataset.initialWidth||(t.dataset.initialWidth=t.offsetWidth);var o=parseFloat(t.dataset.initialWidth);t.style.minWidth="".concat(o*n+2,"px"),t.querySelectorAll(":scope > li").forEach((function(e){e.style.width="".concat(o,"px")}))}var a=t.parentElement,l=Math.round(document.body.clientWidth-a.offsetLeft-t.offsetWidth-10);l<0&&(t.style.left="".concat(l,"px")),t.dataset.widthSet="true"}})),e.addEventListener("mouseout",(function(){var t=e.nextElementSibling;t&&t.classList.contains("dropdown-menu")&&(t.style.removeProperty("display"),t.dataset.widthSet="false")}))})),e="top",document.querySelectorAll(".tabs--primary").length>0&&document.querySelectorAll("#navbar").length>0){var u=document.querySelector(".tabs--primary").getBoundingClientRect();if(document.querySelectorAll(".dxpr-theme-header--navbar-pull-down").length>0&&document.querySelectorAll("#navbar .container-col").length>0){var c=document.querySelector("#navbar .container-col").getBoundingClientRect();i(c,u)&&(document.querySelector(".tabs--primary").style.marginTop="".concat(c.bottom-u.top+6,"px"))}else{var m=document.querySelector("#navbar").getBoundingClientRect();i(m,u)&&(document.querySelector(".tabs--primary").style.marginTop="".concat(m.bottom-u.top+6,"px"))}}if(document.querySelectorAll("#secondary-header").length>0&&document.querySelectorAll("#navbar.dxpr-theme-header--overlay").length>0){var s=document.querySelector("#secondary-header").getBoundingClientRect();i(document.querySelector("#navbar.dxpr-theme-header--overlay").getBoundingClientRect(),s)&&(drupalSettings.dxpr_themeSettings.secondHeaderSticky?(document.querySelector("#navbar.dxpr-theme-header--overlay").style.cssText="top:".concat(s.bottom,"px !important;"),document.querySelector("#secondary-header").classList.remove("dxpr-theme-secondary-header--sticky")):(document.querySelectorAll("#toolbar-bar").length>0?document.querySelector("dxpr-theme-header--overlay").style.top="".concat(s.bottom,"px"):document.querySelector("dxpr-theme-header--overlay").style.top="0",document.querySelector("#secondary-header").classList.remove("dxpr-theme-secondary-header--sticky")))}}else{if("side"===e)return!1;document.getElementById("dxpr-theme-main-menu").style.display="none";var h=document.querySelector(".dxpr-theme-header--top");h&&(h.classList.add("dxpr-theme-header--side"),h.classList.remove("dxpr-theme-header--top")),document.querySelectorAll("#dxpr-theme-main-menu .menu .dropdown-menu, #dxpr-theme-main-menu .menu .dropdown-menu li").forEach((function(e){e.removeAttribute("style")}));var p=document.getElementById("dxpr-theme-main-menu");if(p)p.querySelectorAll(".menu").forEach((function(e){e.classList.add("menu__level"),e.querySelectorAll(".dropdown-menu").forEach((function(e){e.classList.add("menu__level")})),e.querySelectorAll(".dxpr-theme-megamenu").forEach((function(e){e.classList.add("menu__level")})),e.querySelectorAll("a").forEach((function(e){e.classList.add("menu__link")})),e.querySelectorAll("li").forEach((function(e){e.classList.add("menu__item")}))}));document.querySelectorAll("#dxpr-theme-main-menu .menu a.dropdown-toggle").forEach((function(e){var t=e.nextElementSibling;e.setAttribute("data-submenu",e.textContent),t.setAttribute("data-menu",e.textContent)})),document.querySelectorAll("#dxpr-theme-main-menu .menu a.dxpr-theme-megamenu__heading").forEach((function(e){var t=e.nextElementSibling;e.setAttribute("data-submenu",e.textContent),t.setAttribute("data-menu",e.textContent)}));var y=document.querySelectorAll("#dxpr-theme-main-menu .menu .dropdown-menu").length>0,v=document.getElementById("dxpr-theme-main-menu");new MLMenu(v,{breadcrumbsCtrl:y,initialBreadcrumb:"menu",backCtrl:!1,itemsDelayInterval:10});var f=function(){"cross"===drupalSettings.dxpr_themeSettings.hamburgerAnimation&&document.querySelector("#dxpr-theme-menu-toggle").classList.toggle("navbar-toggle--active"),document.querySelector("#dxpr-theme-main-menu").classList.toggle("menu--open"),document.querySelector("html").classList.toggle("html--dxpr-theme-nav-mobile--open")};document.querySelector("#dxpr-theme-menu-toggle").addEventListener("click",(function(){f()})),document.getElementById("dxpr-theme-main-menu").style.position="fixed",document.getElementById("dxpr-theme-main-menu").style.display="block",document.querySelectorAll(".menu__link").forEach((function(e){e.addEventListener("click",(function(){this.getAttribute("data-submenu")||f()}))}));var x=0,g=document.querySelector(".wrap-branding");g&&(x=g.getBoundingClientRect().bottom);var b=document.querySelector("#dxpr-theme-main-menu .block:not(.block-menu):last-of-type");document.querySelectorAll(".body--dxpr-theme-header-side").length>0&&window.innerWidth>r&&b&&x>0&&(document.getElementById("dxpr-theme-main-menu").style.paddingTop="".concat(x+40,"px"));var S=document.querySelector(".menu__breadcrumbs"),w=document.querySelector(".menu__level"),_=document.querySelector(".dxpr-theme-header--side .menu__level");if(b){var q=b.getBoundingClientRect().bottom;S&&(S.style.top="".concat(q+20,"px")),w&&(w.style.top="".concat(q+40,"px"));var A=40+q;_&&(_.style.height="calc(100vh - ".concat(A,"px)"))}else if(document.querySelectorAll(".body--dxpr-theme-header-side").length>0&&g&&x>120){S&&(S.style.top="".concat(x+20,"px")),w&&(w.style.top="".concat(x+40,"px"));var L=40+x;_&&(_.style.height="calc(100vh - ".concat(L,"px)"))}e="side"}}var c=drupalSettings.dxpr_themeSettings.headerMobileHeight,m=drupalSettings.dxpr_themeSettings.headerMobileFixed,s="dxpr_themeNavBreakpoint"in window?window.dxpr_themeNavBreakpoint:1200;if(m&&document.querySelectorAll(".dxpr-theme-header").length>0&&window.innerWidth<=s){var h=document.querySelector("#navbar");document.querySelectorAll("#toolbar-bar").length>0&&h.classList.add("header-mobile-admin-fixed"),window.innerWidth>=975?h.classList.add("header-mobile-admin-fixed-active"):h.classList.remove("header-mobile-admin-fixed-active"),document.querySelector(".dxpr-theme-boxed-container").style.overflow="hidden",document.querySelector("#toolbar-bar").classList.add("header-mobile-fixed"),h.classList.add("header-mobile-fixed");var p=document.querySelector("#secondary-header");p&&(p.style.marginTop="".concat(c,"px"))}function y(){var e=1200;if("dxpr_themeNavBreakpoint"in window&&(e=window.dxpr_themeNavBreakpoint),window.innerWidth>e){var t=document.querySelector(".body--dxpr-theme-nav-mobile");t&&(t.classList.add("body--dxpr-theme-nav-desktop"),t.classList.remove("body--dxpr-theme-nav-mobile"))}else{var r=document.querySelector(".body--dxpr-theme-nav-desktop");r&&(r.classList.add("body--dxpr-theme-nav-mobile"),r.classList.remove("body--dxpr-theme-nav-desktop"))}}function v(){"right"===drupalSettings.dxpr_themeSettings.headerSideDirection&&window.innerWidth<=window.dxpr_themeNavBreakpoint?document.querySelector(".dxpr-theme-main-menu").classList.add("dxpr-theme-main-menu--to-left"):document.querySelector(".dxpr-theme-main-menu").classList.remove("dxpr-theme-main-menu--to-left"),window.innerWidth>window.dxpr_themeNavBreakpoint&&0===document.querySelectorAll(".dxpr-theme-header--side").length&&(document.getElementById("dxpr-theme-main-menu").style.position="relative")}window.addEventListener("resize",_.debounce((function(){document.querySelectorAll("#dxpr-theme-main-menu .nav").length>0&&(y(),u(document)),v()}),50)),v(),document.addEventListener("DOMContentLoaded",(function(){document.querySelector("#dxpr-theme-main-menu .nav")&&(y(),u(document))}))}(Drupal,once);